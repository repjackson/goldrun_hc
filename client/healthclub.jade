template(name='healthclub')
    img.ui.fluid.image.checkin_banner(src="{{c.url 'grfront' width=1000 height=1000 crop='crop'}}")
    .ui.padded.stackable.grid.header-wrapper(class=invert_class)
        .sixteen.wide.column
            unless is_frontdesk
                a.ui.button(href='/staff')
                    i.left.chevron.icon
                    |staff
            h1.ui.center.aligned.header
                |health club check in
            //- if is_admin
            //-     .ui.left.icon.massive.fluid.input
            //-         input.barcode_entry(type='text' placeholder='barcode input...' autofocus)
            //-         i.qrcode.icon
            //- .ui.horizontal.divider or
            .ui.left.icon.massive.fluid.input
                input.username_search(type='text' placeholder='lookup resident...' autofocus)
                if is_query
                    i.remove.link.icon.clear_results
                else 
                    i.user.icon
            .ui.center.aligned.basic.segment
                if checkedout_members.length
                    each checkedout_members
                        +checkin_button
                else
                    if checking_in
                        if is_query
                            .ui.center.aligned.header no members found
                            .ui.center.aligned.header please see staff to add
                            //- +add_resident
                //- unless is_query   
                //-     h1.ui.center.aligned.header
                //-         |#{checkedin_members.count} checked in members
                //-     .ui.divided.items
                //-         each checkedin_members
                //-             .ui.item
                //-                 //- img.ui.small.circular.image(src="{{c.url image_id width=200 height=200 gravity='face' crop='fill'}}")
                //-                 .middle.aligned.content
                //-                     .ui.header #{first_name} #{last_name}
                //-                 .extra.middle.aligned.content
                //-                     .right.floated
                //-                         +checkin_button
    
            .ui.padded.grid
                .two.column.row
                    .column
                        +document_view key='health_club_notices'
                        +health_club_info
                    .column
                        +healthclub_status
                        .ui.header hours
                        .ui.big.list
                            .item mon 7a-10p
                            .item tues 7a-10p
                            .item wed 7a-10p
                            .item thur 7a-10p
                            .item fri 7a-9p
                            .item sat 8a-9p
                            .item sun 8a-10p
                        
template(name='add_resident')
    .ui.stackable.padded.grid
        .centered.row
            .eight.wide.column
                h1.ui.center.aligned.header
                    i.user.plus.icon
                    | resident
                .ui.big.form
                    .field
                        input#first_name(type='text' placeholder='First Name' autocomplete='off')
                    .field
                        input#last_name(type='text' placeholder='Last Name' autocomplete='off')
                    //- .field
                    //-     |Username
                    //-     input#username(type='text')
                if permission
                    .ui.fluid.green.big.button.create_and_checkin
                        |create resident
        
        
template(name='sign_waiver')
    with receipt_doc
        .ui.stackable.padded.grid
            .centered.row
                .twelve.wide.column.scrolling
                    .row
                        h1.ui.center.aligned.header
                            i.user.plus.icon
                            |sign waiver
                        with waiver_doc
                            |!{html}
                        +signature
                        .ui.fluid.green.button.sign_waiver
                            | sign waiver



template(name='checkin_button')
    unless healthclub_checkedin
        .ui.massive.basic.button.checkin
            h1.ui.header #{first_name} #{last_name}
    if healthclub_checkedin
        //- if is_staff
        .ui.big.basic.button.checkout
            i.sign.out.icon
            //- +i name='exit-sign' classes='ui avatar image'
            |check out



template(name='health_club_info')
    .ui.stackable.grid.f5
        .two.column.inverted.row
            .column
                .ui.header wifi
                .ui.header Gold Run Health Club / goldrun1
                .ui.header upstairs code: 4589
                .ui.header colorado security services
                .ui.sub.header 303-443-3701
            .column
                .ui.header onsite manager
                .ui.sub.header Rick Hamp 
                .ui.sub.header 303-545-1787
                .ui.sub.header goldruncondos@gmail.com
                .ui.header after hours emergency
                .ui.sub.header 303-221-1117
                .ui.header boulder valley towing
                .ui.sub.header 303-444-4868


template(name='checkin_card')
    img.ui.fluid.image.checkin_banner(src="{{c.url 'grfront' width=1000 height=1000 crop='crop'}}")
    with user
        //- .ui.padded.stackable.grid
        .ui.padded.grid.header-wrapper
            .centered.one.column.row
                .column
                    if is_staff
                        img.ui.small.image(src="{{c.url user.image_id width=500 height=500 gravity='face' crop='fill'}}")
                    //- a.ui.header(href="/user/#{user.username}")
                    .ui.large.icon.basic.button.cancel_checkin
                        i.big.left.chevron.icon
                    .ui.huge.inline.header(href="/user/#{user.username}")
                         |#{user.first_name} #{user.last_name} 
                    //- .meta @#{user.username}
                    //- +array_view key='tags' label='Tags' direct=true
                    if is_admin
                        div #{user.address}
                        strong #{user.building_number}
                        strong ##{user.apt_number}
                        div membership start 
                        strong #{user.start_date}
                        div expiration 
                            strong #{user.lease_expiration}
                    //- with user
                    //-     .ui.segment
                    //-         .ui.header 
                    //-             +i name='info'
                    //-             |account status
                    //-         +email_validation_check
                    //-         +resident_key_check
                    //-         +lease_expiration_check
                    //-         +rules_and_regs_check
                    //-         +member_waiver_check
                    //- if red_flagged
                    //-     .ui.red.big.disabled.button
                    //-         |sign rules and regs to continue
                    //-         //- i.right.chevron.icon
                    //- else
            .two.column.row    
                .column
                    .ui.big.basic.button.garden_key_checkout
                        //- +i name='treadmill' classes='ui inline image'
                        .ui.inline.header 
                            //- +i name='basketball-field'
                            i.seedling.green.icon
                            |court/garden key check out
                .column
                    .ui.big.basic.button.unit_key_checkout
                        //- +i name='treadmill' classes='ui inline image'
                        .ui.inline.header 
                            //- +i name='basketball-field'
                            i.key.yellow.icon
                            |unit key check out
                            
            .row
                .sixteen.wide.column
                    .ui.inline.header 
                        //- +i name='groups'
                        i.users.teal.icon
                        |guests
                    +multi_doc_input key='guests' ref_model='guest' title='lookup previous guest...' direct=true
                    //- //- .ui.hidden.divider
                    each resident_guests
                        .ui.big.label #{guest_name} #{first_name} #{last_name}
                    .ui.big.basic.button.add_guest
                        i.plus.icon
                        strong new guest
                    div
                    with checking_in_doc
                        if checkin_guest_docs
                            .ui.inline.header attached guests
                            each checkin_guest_docs
                                .ui.big.button.remove_guest 
                                    i.remove.icon
                                    |#{guest_name} #{first_name} #{last_name}
                            
            .one.column.row
                .column
                    .ui.big.fluid.green.button.complete_checkin
                        //- +i name='treadmill' classes='ui inline image'
                        .ui.inline.white.inverted.header 
                            //- +i name='treadmill'
                            | health club check in
                            i.right.chevron.icon
                            //- i.right.chevron.icon
                            //- .ui.big.button.complete_checkin
                            //-     +i name='key' classes='ui inline image'
                            //-     .ui.inline.header court key check out
                            //-     //- i.right.chevron.icon
