template(name='user_table')
    a#add_user.ui.button(href='/user/add')
        i.plus.icon
        |Add User
    table.ui.sortable.striped.table
        thead
            tr
                th Image
                th Profile
                th Roles
                th Actions
        tbody
            each users
                tr
                    td 
                        img.ui.tiny.image(src="{{c.url image_id width=100 height=100 gravity='face' crop='fill'}}")
                    td 
                        .ui.header 
                            |#{name}
                        .ui.small.header @#{username}
                        each emails
                            |#{address}
                    td 
                        +user_role_toggle role='admin'
                        +user_role_toggle role='staff'
                        +user_role_toggle role='resident'
                        +user_role_toggle role='owner'
                        +user_role_toggle role='guest'
                    td
                        a.ui.icon.button(href="/user/#{username}/edit")
                            i.pencil.icon
                        a.ui.icon.button(href="/user/#{username}/view")
                            i.chevron.right.icon
                        

template(name='user_role_toggle')
    if is_in_role
        .remove_role.ui.blue.compact.button #{role}
    else
        .add_role.ui.basic.compact.button #{role}
