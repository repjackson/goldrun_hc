template(name='work_orders')
    .ui.stackable.padded.grid
        .row
            .six.wide.column
                .ui.inline.header 
                    +i name='work' classes='ui avatar image'
                    |work_orders
                .ui.big.icon.button.add_work_order(title='add work_order')
                    i.plus.icon
                +cloud filter='work_order'
            .ten.wide.column.scrolling
                each work_orders
                    +work_order
                    
                    
template(name='work_order')
    .ui.fluid.segment
        .ui.header #{title}
        +image_view key='image' direct=true
        |!{description}
        each tags
            .ui.basic.label #{this}
        +edit_button
        +view_button






template(name='work_order_edit')
    with current_doc
        .ui.stackable.padded.grid
            .row
                .four.wide.column 
                    .ui.header 
                        i.pencil.icon
                        |edit work_order
                    a.ui.big.icon.fluid.button(href="/work_order/#{_id}/view" title='save')
                        i.green.checkmark.icon
                    +remove_button
                    +number_edit key='unit_number' label='unit_number' direct=true
                    +number_edit key='building_number' label='building_number' direct=true
                    +array_edit key='tags' label='tags' icon='tags' direct=true
                    +boolean_edit key='need_to_schedule' label='need to schedule' direct=true
                    +single_user_edit key='reported_by' label='reported by' direct=true
                .eight.wide.column 
                    +text_edit key='title' label='title' icon='title' direct=true
                    +image_edit key='image' label='image' icon='image' direct=true
                    +html_edit key='description' label='description' icon='content' direct=true
                .four.wide.column 
                    .ui.header stats
                    .ui.small.header #{views} views
                    .ui.small.header #{points} points
                    .ui.header status
                    .ui.small.header status: #{status}
                    
                     
template(name='work_order_view')
    with current_doc
        .ui.stackable.padded.grid
            .row
                .four.wide.column 
                    a.ui.fluid.button(href="/work_orders")
                        +i name='work' classes='ui avatar image'
                        |work orders
                    .ui.header view work order
                    a.ui.big.icon.button(href="/work_order/#{_id}/edit")
                        i.pencil.icon
                    +voting_full
                    +viewing
                .eight.wide.column 
                    +text_view key='title' label='title' direct=true
                    +number_view key='unit_number' label='unit_number' direct=true
                    +number_view key='building_number' label='building_number' direct=true
                    +array_view key='tags' label='tags' icon='tags' direct=true
                    +boolean_view key='need_to_schedule' label='need to schedule' direct=true
                    +single_user_view key='reported_by' label='reported by' direct=true
                    .large150
                        +html_view key='description' icon='content' label='description' direct=true
                    +image_view key='image' icon='image' label='image' direct=true
                    +boolean_view key='published' label='published' direct=true
                    +comments
                .four.wide.column
                    .ui.header 
                        +i name='line-chart'
                        |stats
                    .ui.small.header #{views} views
                    .ui.small.header #{points} points
                    .ui.header status
                    .ui.small.header status: #{status}
                    .ui.header activity
                    .ui.list
                        each log_items
                            .item #{text}
